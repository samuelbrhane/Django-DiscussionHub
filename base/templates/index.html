<!-- extends base.html -->
{% extends "base.html" %}

<!-- block content -->
<section>
  {% block content %}

  <div class="row">
    <!-- sidebar -->
    <div
      class="col-lg-3 col-12 mb-4 mb-lg-0 col-sm-12 border-end-lg border-primary"
    >
      <h2>Browse Topics</h2>
      <p>
        <a href="{% url 'home' %}">All</a>
      </p>
      {% for topic in topics %}
      <p>
        <a href="{% url 'home' %}?q={{topic.name}}">{{topic.name}}</a>
      </p>

      {% endfor %}
    </div>

    <div class="col-lg-9 col-12 col-sm-12">
      <p>There are {{rooms_count}} rooms available.</p>
      <!-- create a new room -->
      <div class="d-flex justify-content-start mb-4">
        <a href="{% url 'create-room' %}" class="btn btn-primary px-4"
          >Create Room</a
        >
      </div>

      <!-- rooms -->
      <div class="mt-3">
        {% for room in rooms %}
        <div class="shadow-md room p-3 bg-body-dark rounded mb-2">
          <h3>@{{room.host.username}}</h3>

          <a href="{% url 'room' room.id %}">
            <div>
              <h6>{{room.topic.name}}</h6>
              <h5>{{room.title}}</h5>
              <p>{{room.description}}</p>
            </div>
          </a>
        </div>

        {% endfor %}
      </div>
    </div>
  </div>

  {% endblock content %}
</section>
